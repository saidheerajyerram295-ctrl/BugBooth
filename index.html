import time

GAME_TIME = 600  # 10 minutes in seconds
start_time = None


def timer_remaining():
    elapsed = int(time.time() - start_time)
    remaining = GAME_TIME - elapsed
    if remaining <= 0:
        print("\nâ° TIME UP! Game Over.")
        exit()
    minutes = remaining // 60
    seconds = remaining % 60
    print(f"â³ Time Left: {minutes}m {seconds}s")


def home_page():
    print("=" * 40)
    print("ðŸž WELCOME TO BUGBOOTH ðŸž")
    print("=" * 40)
    print("1. Instructions")
    print("2. Start Game")
    print("3. Exit")
    choice = input("Enter choice: ")

    if choice == "1":
        instructions()
    elif choice == "2":
        start_game()
    else:
        exit()


def instructions():
    print("\nðŸ“œ INSTRUCTIONS")
    print("- Find the bug in the code")
    print("- Compare output with correct output")
    print("- Bug may be logical, not syntax")
    print("- Total Time: 10 minutes")
    print("- Press ENTER to move to next level")
    input("\nPress ENTER to start the game...")
    start_game()


def start_game():
    global start_time
    start_time = time.time()
    level_1()
    level_2()
    level_3()
    print("\nðŸŽ‰ CONGRATULATIONS! You completed BUGBOOTH ðŸŽ‰")


# ===============================
# LEVEL 1 â€“ HARD
# ===============================
def level_1():
    print("\n" + "=" * 40)
    print("LEVEL 1 â€“ HARD")
    timer_remaining()

    print("""
Question:
Count failed students.
Rule: Marks below 40 are fail.
Bug Type: Logical condition mistake
""")

    print("""
def count_failed(marks):
    failed = 0
    for m in marks:
        if m <= 40:   # BUG
            failed += 1
    return failed

scores = [35, 40, 55, 60, 20]
print(count_failed(scores))
""")

    print("Correct Output: 2")
    input("\nPress ENTER for NEXT LEVEL...")


# ===============================
# LEVEL 2 â€“ VERY HARD
# ===============================
def level_2():
    print("\n" + "=" * 40)
    print("LEVEL 2 â€“ VERY HARD")
    timer_remaining()

    print("""
Question:
Find minimum value from a list.
Bug Type: Wrong initialization
""")

    print("""
def find_min(nums):
    minimum = 0   # BUG
    for n in nums:
        if n < minimum:
            minimum = n
    return minimum

values = [5, 8, 12, 20]
print(find_min(values))
""")

    print("Correct Output: 5")
    input("\nPress ENTER for NEXT LEVEL...")


# ===============================
# LEVEL 3 â€“ EXTREME HARD
# ===============================
def level_3():
    print("\n" + "=" * 40)
    print("LEVEL 3 â€“ EXTREME HARD")
    timer_remaining()

    print("""
Question:
Calculate percentage of marks.
Bug Type: Operator precision loss
""")

    print("""
def calculate_percentage(total, obtained):
    if total == 0:
        return 0
    percentage = (obtained * 100) // total   # BUG
    return percentage

print(calculate_percentage(600, 455))
""")

    print("Correct Output: 75.83")
    input("\nPress ENTER to FINISH...")


# ===== PROGRAM START =====
home_page()
